---
layout:            post
title:             "싱글톤 패턴에 대해서"
menutitle:         "싱글톤 패턴에 대해서"
tags:              Spring Singleton
category:          Spring
author:            geunyoung
cover:             /assets/mountain-alternative-cover.jpg
published:         true
cover:             /assets/mountain-alternative-cover.jpg
language:          KO
comments:          true
---

## 싱글톤 패턴이란?

애플리케이션이 시작될 때 어떤 클래스가 최초 한번만 메모리를 할당하고 서비스가 중지되기 전까지 그 메모리에 인스턴스를 만들어 사용하는 디자인패턴이다.

스프링에서 자주 사용되는 패턴이며, 빈 객체를 만들어서 활용하는 것이 대표적이다.

예를 들면

```xml

<bean id="a" class="B" />

```
를 등록하고

```java

@Autowired
Private A a 

a.printHello();

```

와 같이 활용하면 A라는 클래스에 대해 메모리를 할당하고 그 메모리에서 인스턴스를 만들어 사용하는 것이다.

## 장점

제일 큰 이유는 역시 고정된 메모리 영역을 얻으면서 한번의 new로 인스턴스를 사용하기 때문에 메모리 낭비를 방지할 수 있기 때문이다.

두번째는 전역으로 활용하여 데이터를 공유할 수 있기 때문에 번거롭게 특정 데이터를 얻기 위한 작업을 할 필요가 없다.

두번째 장점에 대해 알기 쉽게 설명을 하자면 A라는 동작을 할때 B를 수행해야 하며, C라는 동작할때도 B를 수행해야 한다면, 

싱글톤 패턴시 B수행 - A수행 - C수행을 하면 되지만

다른 패턴은 B수행 - A수행, B수행 - C수행을 해야한다.

## 단점

이 글을 쓴 이유이기도 한 단점에 대해 설명하자면,

싱글톤 인스턴스가 너무 많은 일을 하거나 많은 데이터를 공유시킬 경우 다른 클래스의 인스턴스들 간에 결합도가 높아져 "개방-폐쇄 원칙" 을 위배하게 된다. 즉, 유지보수가 오히려 어려워 질 수도 있다는 것이다.

또 하나는 장점이기도한 '최초 한번만 메모리를 할당하고 서비스가 중지되기 전까지 그 메모리를 사용'이다.

이전에 정리한 GC 이슈와 같은 내용으로 Garbage Collecting이 제대로 되지 않으면 그 메모리들이 조금씩 쌓이고 쌓여서 서비스를 중단시켜버릴 만큼 큰 이슈를 만들기도 한다.

이 점을 잘 유의에서 싱글패턴을 활용하자
