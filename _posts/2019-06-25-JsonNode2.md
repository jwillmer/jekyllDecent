---
layout:            post
title:             "ObjectNode와 JsonNode의 활용"
menutitle:         "ObjectNode와 JsonNode의 활용"
tags:              ObjectMapper
category:          Java
author:            geunyoung
cover:             /assets/mountain-alternative-cover.jpg
published:         true
cover:             /assets/mountain-alternative-cover.jpg
language:          KO
comments:          true
---

## ObjectNode, JsonNode의 활용

현재(2019-06-25)기준으로 데이터를 주고 받을 때 String, XML, Json 등 많은 형식을 사용하지만 우월한 속도를 자랑하는 json형식을 자주 사용하는 추세이다.

Java, Spring으로 개발된 서버에서 json데이터를 위한 많은 자료형이 존재하는데 나는 JsonNode, ObjectNode를 많이 활용하는 편이다.

활용방식에 대해 알아보자.


### JsonNode의 활용

이전 "JsonNode와 ObjectNode 차이"라는 포스트에서 설명하였듯이 JsonNode는 데이터를 주고 받을 때 사용된다.

소스를 통해 알아보자.


json파일을 통해 데이터를 가져올때

```java

		ObjectMapper mapper = new ObjectMapper();
		JsonNode jsonNode = mapper.readValue(new File("C:/Users/gykim/Desktop/data.json"), JsonNode.class);

```

### JsonNode의 주의점 및 특이사항

일반적으로 필드 값을 뽑을 jsonNode.get("필드명")으로 뽑는다.

만약 아래와 같은 json값에서

```json

{
	"firstName" : "Geun-Young",
	"lastName" : "Kim",
	"age" : 21
}

```

jsonNode.get("firstName")으로 뽑으면 값이 어떻게 될까?

흔히들 Geun-Young와 같이 뽑힐 것이라 생각하는데 "Geun-Young"와 같이 ""가 붙어서 나온다.

따라서 jsonNode.get("firstName").asText()를 통해 ""를 제거해야한다.

그렇다면 숫자는 어떨까? 

jsonNode.get("age")는 21이 나온다. 여기에 asText()를 붙이면 에러가 날까?

정답을 에러가 나지않고 그대로 21이 뽑혀져 나온다.



### 해결방법

readValue를 활용하여 readTree대신 사용하였다. 

```java

ObjectMapper mapper = new ObjectMapper();
JsonNode jsonNode = mapper.readValue(param, JsonNode.class);
    
 ```


