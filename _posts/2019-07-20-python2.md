---
layout:            post
title:             "Python 기본 문법"
menutitle:         "Python 기본 문법"
tags:              Python
category:          Python
author:            geunyoung
cover:             /assets/mountain-alternative-cover.jpg
published:         true
cover:             /assets/mountain-alternative-cover.jpg
language:          KO
comments:          true
---

## Python 기본 문법에 대해서...

주 언어가 자바이다 보니 Python 언어를 접하거나 사용할 기회가 별로 없다. 

그래서 기본 문법부터 정리하기로 생각하였다. 

### 변수 선언

```python

hello = "world"

```


### 출력하기

```python

print("hello");

result = 20
print("down : ", result)

print("const : ", "10");

```

### 함수만들기

```python

def print_hello():
    print("hello");

print_hello();


def print_message(p_message, p_person) :
    print(p_message,",", p_person)

message = "hello world"
reciever = "Geun Young"
print_message(message, reciever)


def plus(val1, val2):
        return val1+val2
	
print(plus(20,30))

```


### 분기문

```python

# 프로젝트내에서 발췌
if last_page_check[len(last_page_check) - 1].find('a') :
	page_count += 1
elif page_count > 100 :
	print('something went wrong')
	break
else :
	print('Reached last page count >>> ' + str(page_count) + "..... moving to next category")
	break

# 프로젝트내에서 발췌
if not raw_html_data.find('ul',{'class':'pagination'}) :
	print("There isn't another page..... moving to next category")
	break
	
```


### 루프문 돌리기

```python

for item in range(0,10):
    print(item)
    
    
print(list(range(0,10)))


count_list = [2,4,6]
for item in count_list:
    print(item)
    
    
name_list = ["김근영","문근영","장근영"]

for item in name_list:
    print(item)

```




### 업로드 소스

등록버튼 누를 시 로직은 일반적인 DB저장 로직 + 파일 위치옮기기 로직만이 존재하여 생략하고(궁금하면 나의 Spring-5-Study-Project 참조)

업로드 되는 로직만 살펴보자.

컨트롤러는 아래와 같으며

```java

package 패키지명;

import java.io.File;
import java.util.Iterator;
import java.util.UUID;
import java.util.regex.Matcher;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.context.request.WebRequest;
import org.springframework.web.multipart.MultipartFile;
import org.springframework.web.multipart.MultipartHttpServletRequest;

@Controller
@RequestMapping("/fileUpload")
public class FileUploadController {

	private static final Logger logger = LoggerFactory.getLogger(FileUploadController.class);
	
    @RequestMapping(value = "/post") //ajax에서 호출하는 부분
    @PostMapping
    @ResponseBody
    public String uploadToTempDirectory(MultipartHttpServletRequest multipartRequest) throws Exception { //Multipart로 받는다.
    	
    	logger.info("Upload is starting");
    	
        Iterator<String> itr =  multipartRequest.getFileNames();
         
        //Temp 저장공간
        String filePath = "C:/transfer_test";
        String savedUid = "";
         
        while (itr.hasNext()) { //받은 파일들을 모두 돌린다.
             

            MultipartFile 	multipartFile 		= multipartRequest.getFile(itr.next());
            String 			originalFilename 	= multipartFile.getOriginalFilename();
            String 			fileExtension 		= originalFilename.substring(originalFilename.lastIndexOf(".")+1); //파일 확장자
            
            logger.debug("originalName 	>>>>>>>>>>>>>>>> {}"	,multipartFile.getOriginalFilename());
            logger.debug("fileExtension >>>>>>>>>>>>>>>> {}"	,fileExtension);
            logger.debug("size 			>>>>>>>>>>>>>>>> {}"	,multipartFile.getSize());
            logger.debug("ContentType 	>>>>>>>>>>>>>>>> {}"	,multipartFile.getContentType());
            logger.debug("originalName 	>>>>>>>>>>>>>>>> {}"	,multipartFile.getOriginalFilename());
      
            UUID uid = UUID.randomUUID();
            savedUid = uid.toString();
            
            logger.debug("savedUid	 	>>>>>>>>>>>>>>>> {}"	,savedUid);
            
            String fileFullPath = filePath + "/" + savedUid + "." + fileExtension; 	//저장될 경로
            fileFullPath.replaceAll("/", Matcher.quoteReplacement(File.separator));
      
            //경로가 없다면 생성
    		File directory = new File(fileFullPath);
    		if (directory.exists() == false) {
    			directory.mkdirs();
    		}
    		
            try {
                //파일 저장
            	multipartFile.transferTo(directory); //파일저장 실제로는 service에서 처리
            } catch (Exception e) {
                logger.error("error occured while making file to temp directory!!! caused by >>>>>>>>>>>>> {}",e.getMessage());
                throw new Exception(e);
            }
                          
       }
          
        return savedUid;
    }

}

```

### 느낀점 및 실수했던 부분

\의 값에 대해서 Windows OS에서는 돌아가더라도 Linux에서는 안돌아 갈 위험성이 있어 /를 replaceAll() 하려 했지만 특수문자여서 뜻대로 되지 않아서 

위와 같이 해결하였다.


